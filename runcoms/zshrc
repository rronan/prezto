#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "/sequoia/data1/rriochet/prezto/init.zsh" ]]; then
  source "/sequoia/data1/rriochet/prezto/init.zsh"
fi

# Customize to your needs...
. /sequoia/data1/rriochet/anaconda3/etc/profile.d/conda.sh
conda activate py36

if [ -f ~/.localrc ]; then
    . ~/.localrc
fi

# ===== History
setopt append_history # Allow multiple terminal sessions to all append to one zsh command history
setopt extended_history # save timestamp of command and duration
setopt inc_append_history # Add comamnds as they are typed, don't wait until shell exit
setopt hist_expire_dups_first # when trimming history, lose oldest duplicates first
setopt hist_ignore_dups # Do not write events to history that are duplicates of previous events
setopt hist_ignore_space # remove command line from history list when first character on the line is a space
setopt hist_find_no_dups # When searching history don't display results already cycled through twice
setopt hist_reduce_blanks # Remove extra blanks from each command line being added to history
setopt hist_verify # don't execute, just expand history
setopt share_history # imports new commands and appends typed commands to history<Paste>

bindkey "^[[A" history-substring-search-up
bindkey "^[[B" history-substring-search-down
bindkey -s "^F" " fg^M ^M"
bindkey -s "^K" "^[[A"
bindkey -s "^J" "^[[B"
bindkey -s "^@" "^M"

# some more ls aliases
alias ll='ls -l'
alias la='ls -A'
alias l='ls -CF'
alias ptpb="curl -F c=@- https://ptpb.pw/ | sed '/^url:/ s/$/.jpeg/'"

# Specific to INRIA
alias Data1="cd /sequoia/data1/rriochet"
alias Data2="cd /sequoia/data2/rriochet"
alias Html="cd /meleze/data0/public_html/rriochet"
alias deploy_qsub='ssh sequoia "deploy_qsub"'

export PATH=$PATH:"/sequoia/data1/rriochet/bin"
export PATH=$PATH:"~/.local/bin"
export TORCH_MODEL_ZOO="/sequoia/data1/rriochet/.torch/models"
export UE_ROOT="/sequoia/data1/rriochet/UnrealEngine"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet/pymunk"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet/intphys/Content/Scripts"
PYTHONPATH=$PYTHONPATH:"/home/user/caffe2/build"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet/flownet2-pytorch"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet/flownet2-pytorch/networks"
PYTHONPATH=$PYTHONPATH:"/sequoia/data1/rriochet/flownet2-pytorch/utils"
export PYTHONPATH

export GOOGLE_APPLICATION_CREDENTIALS=~/.gconf/key.json
